<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
<script>
/*for (var i = 0; i < 5; i++) {
	  var btn = document.createElement('button');
	  btn.appendChild(document.createTextNode('Button ' + i));
	  btn.addEventListener('click', function(){ console.log(i); });
	  document.body.appendChild(btn);
	}*/
	
	for (var i = 0; i < 5; i++) {
		  var btn = document.createElement('button');
		  btn.appendChild(document.createTextNode('Button ' + i));
		  (function (i) {
		    btn.addEventListener('click', function() { console.log(i); });
		  })(i);
		  document.body.appendChild(btn);
		}
</script>
</body>
</html>